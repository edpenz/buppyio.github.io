<!DOCTYPE html>
<html lang="en">
  <head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>buppy file storage</title>

<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="/css/bootstrap-custom.css">
<link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/doc.css">
  </head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">

        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar-overflow">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><b>buppy</b> file storage</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-navbar-overflow">
          <ul class="nav navbar-nav navbar-right">
<li><a href="/">About</a></li>
<li><a href="/man/1/bpy">Docs</a></li>
<li><a href="//github.com/buppyio/bpy/releases">Download</a></li>          </ul>

          <ul class="nav navbar-nav nav-secondary">
<li>
  <a class="sidebar-header" href=".bs-sidebar-1" data-toggle="collapse">Commands</a>
  <ul class="nav collapse bs-sidebar-1">
    <li><a href="/man/1/bpy">bpy</a></li>
    <li><a href="/man/1/bpy_browse">browse</a></li>
    <li><a href="/man/1/bpy_cat">cat</a></li>
    <li><a href="/man/1/bpy_cp">cp</a></li>
    <li><a href="/man/1/bpy_env">env</a></li>
    <li><a href="/man/1/bpy_gc">gc</a></li>
    <li><a href="/man/1/bpy_get">get</a></li>
    <li><a href="/man/1/bpy_hist">hist</a></li>
    <li><a href="/man/1/bpy_ls">ls</a></li>
    <li><a href="/man/1/bpy_mkdir">mkdir</a></li>
    <li><a href="/man/1/bpy_mv">mv</a></li>
    <li><a href="/man/1/bpy_put">put</a></li>
    <li><a href="/man/1/bpy_rm">rm</a></li>
    <li><a href="/man/1/bpy_tar">tar</a></li>
    <li><a href="/man/1/bpy_zip">zip</a></li>
  </ul>
</li>
<li>
  <a class="sidebar-header" href=".bs-sidebar-5" data-toggle="collapse">Internals</a>
  <ul class="nav collapse bs-sidebar-5">
    <li><a href="/man/5/bpy_bpack">bpack</a></li>
    <li><a href="/man/5/bpy_ebpack">ebpack</a></li>
    <li><a href="/man/5/bpy_fs">fs</a></li>
    <li><a href="/man/5/bpy_htree">htree</a></li>
    <li><a href="/man/5/bpy_key">key</a></li>
  </ul>
</li>
<li>
  <a class="sidebar-header" href=".bs-sidebar-7" data-toggle="collapse">Misc</a>
  <ul class="nav collapse bs-sidebar-7">
    <li><a href="/man/7/bpy_drive">drive</a></li>
    <li><a href="/man/7/bpy_environment">environment</a></li>
    <li><a href="/man/7/bpy_timespec">timespec</a></li>
  </ul>
</li>
          </ul>
        </div>

      </div>
    </nav>

    <div class="container">
      <div class="row">
        <nav class="sidebar sidebar-left col-sm-3 hidden-xs">
          <ul class="nav nav-secondary">
<li>
  <a class="sidebar-header" href=".bs-sidebar-1" data-toggle="collapse">Commands</a>
  <ul class="nav collapse bs-sidebar-1">
    <li><a href="/man/1/bpy">bpy</a></li>
    <li><a href="/man/1/bpy_browse">browse</a></li>
    <li><a href="/man/1/bpy_cat">cat</a></li>
    <li><a href="/man/1/bpy_cp">cp</a></li>
    <li><a href="/man/1/bpy_env">env</a></li>
    <li><a href="/man/1/bpy_gc">gc</a></li>
    <li><a href="/man/1/bpy_get">get</a></li>
    <li><a href="/man/1/bpy_hist">hist</a></li>
    <li><a href="/man/1/bpy_ls">ls</a></li>
    <li><a href="/man/1/bpy_mkdir">mkdir</a></li>
    <li><a href="/man/1/bpy_mv">mv</a></li>
    <li><a href="/man/1/bpy_put">put</a></li>
    <li><a href="/man/1/bpy_rm">rm</a></li>
    <li><a href="/man/1/bpy_tar">tar</a></li>
    <li><a href="/man/1/bpy_zip">zip</a></li>
  </ul>
</li>
<li>
  <a class="sidebar-header" href=".bs-sidebar-5" data-toggle="collapse">Internals</a>
  <ul class="nav collapse bs-sidebar-5">
    <li><a href="/man/5/bpy_bpack">bpack</a></li>
    <li><a href="/man/5/bpy_ebpack">ebpack</a></li>
    <li><a href="/man/5/bpy_fs">fs</a></li>
    <li><a href="/man/5/bpy_htree">htree</a></li>
    <li><a href="/man/5/bpy_key">key</a></li>
  </ul>
</li>
<li>
  <a class="sidebar-header" href=".bs-sidebar-7" data-toggle="collapse">Misc</a>
  <ul class="nav collapse bs-sidebar-7">
    <li><a href="/man/7/bpy_drive">drive</a></li>
    <li><a href="/man/7/bpy_environment">environment</a></li>
    <li><a href="/man/7/bpy_timespec">timespec</a></li>
  </ul>
</li>
          </ul>
        </nav>

        <article class="col-sm-9">
          <h1>ebpack</h1>
          <hr />

          <div class="pandoc-wrapper">
            <h1 id="name">Name</h1>
<p>ebpack - ebpack files are encrypted <a href="/man/5/bpy_bpack.html">bpy_bpack(5)</a> files</p>
<h1 id="synopsis">Synopsis</h1>
<p>During normal operation bpy writes client side encrypted <a href="/man/5/bpy_bpack.html">bpy_bpack(5)</a> files (ebpack) to the remote server to hinder unauthorized access. The ebpack files are AES256 encrypted bpack files encrypted using a CTR mode cipher to allow security and random access decryption with a 32 byte granularity.</p>
<p>The file format consists of a 32 byte random nonce, with N 32 byte blocks of data. Each block of data is created via the operation <code>XOR(AES256ENCRYPT(SECRETKEY, ADD(NONCE, N)), PLAINTEXT)</code> and each block of data is accessed via <code>XOR(AES256ENCRYPT(SECRETKEY, ADD(NONCE, N)), CIPHERTEXT)</code>.</p>
<p>Because the input data may not be a multiple of 32 bytes, there is always a padded final block. There maybe be up to 32 bytes of padding in the tail of the final block, starting from the end padding bytes are 0x00, with a 0x80 byte denoting the final padding byte.</p>
<p>An example of an encrypted file on disk is shown in the following diagram, and requires decryption before it can be accessed.</p>
<pre><code>+-------------+
| Nonce[32]   |
+-------------+
| Block1[32]  |
+-------------+
| Block2[32]  |
+-------------+
| Block3[32]  |
+-------------+
.             .
.    ....     .
.             .
+-------------+
| BlockN[32]  |
+-------------+
</code></pre>
<h1 id="see-also">SEE ALSO</h1>
<p><strong><a href="/man/1/bpy.html">bpy(1)</a></strong> <strong><a href="/man/5/bpy_bpack.html">bpy_bpack(5)</a></strong></p>

          </div>
        </article>
      </div>
    </div>

    <footer class="footer">
      <div class="container">
        <p class="text-muted text-right">&copy; 2016 buppy.io</p>
      </div>
    </footer>
  </body>
</html>
